select * from QSegmentExp;
select * from QSEGMENTEXP where  REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(PLPLABEL,'3',''),'1',''),'2',''),'.',''),'-','') = REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(MANUALNAME,'3',''),'1',''),'2',''),'.',''),'-','')

select count(*) from QSEGMENTEXP where CORPUSENTRYNAME = MANUALNAME


select count(*) from QSEGMENTEXP

select CORPUSENTRYNAME, MANUALNAME from QSEGMENTEXP

select REPLACE(REPLACE(REPLACE(REPLACE(PLPLABEL,'3',''),'1',''),'2',''),'.',''), MANUALNAME from QSEGMENTEXP where  REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(PLPLABEL,'3',''),'1',''),'2',''),'.',''),'-','') = REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(MANUALNAME,'3',''),'1',''),'2',''),'.',''),'-','')

INSERT into QSEGMENTEXP_CLEANED(ID,LENGTH,START,WAVFILEPATH,MARKERLABEL, CORPUSENTRYNAME, MANUALNAME, PLPLABEL, LPCLABEL, MFCCLABEL,SIGNALENTROPYLABEL,LOUDNESSLABEL,SPECTRALFLUXLABEL, PROCEESSTIME,LOUDNESS,SPECTRALFLUX,PLP,LPC,MFCC,SIGNALENTROPY,TIMESTAMP )
select ID,LENGTH,START,WAVFILEPATH,MARKERLABEL,
REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(CORPUSENTRYNAME,'3',''),'1',''),'2',''),'.',''),'-','') CORPUSENTRYNAME,
REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(MANUALNAME,'3',''),'1',''),'2',''),'.',''),'-','') MANUALNAME,
REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(PLPLABEL,'3',''),'1',''),'2',''),'.',''),'-','') PLPLABEL,
REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(LPCLABEL,'3',''),'1',''),'2',''),'.',''),'-','') LPCLABEL,
REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(MFCCLABEL,'3',''),'1',''),'2',''),'.',''),'-','') MFCCLABEL,
REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(SIGNALENTROPYLABEL,'3',''),'1',''),'2',''),'.',''),'-','') SIGNALENTROPYLABEL,
REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(LOUDNESSLABEL,'3',''),'1',''),'2',''),'.',''),'-','') LOUDNESSLABEL,
REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(SPECTRALFLUXLABEL,'3',''),'1',''),'2',''),'.',''),'-','') SPECTRALFLUXLABEL,
PROCEESSTIME,LOUDNESS,SPECTRALFLUX,PLP,LPC,MFCC,SIGNALENTROPY,TIMESTAMP
from QSEGMENTEXP


CREATE TABLE "PUBLIC"."QSEGMENTEXP_CLEANED"
(
   ID bigint PRIMARY KEY NOT NULL,
   LENGTH bigint,
   START bigint,
   WAVFILEPATH varchar(255) NOT NULL,
   MARKERLABEL varchar(255) NOT NULL,
   CORPUSENTRYNAME varchar(255) NOT NULL,
   MANUALNAME varchar(255) NOT NULL,
   PROCEESSTIME bigint,
   LOUDNESSLABEL varchar(255) NOT NULL,
   LOUDNESS double,
   SPECTRALFLUXLABEL varchar(255) NOT NULL,
   SPECTRALFLUX double,
   PLPLABEL varchar(255) NOT NULL,
   PLP double,
   LPCLABEL varchar(255) NOT NULL,
   LPC double,
   MFCCLABEL varchar(255) NOT NULL,
   MFCC double,
   SIGNALENTROPYLABEL varchar(255) NOT NULL,
   SIGNALENTROPY double,
   TIMESTAMP timestamp DEFAULT CURRENT_TIMESTAMP
)
;

select MANUALNAME, count(id) from QSEGMENTEXP_CLEANED where  PLPLABEL = MANUALNAME  GROUP By MANUALNAME   ORDER by COUNT(id) desc
select MANUALNAME, PLPLABEL, MFCCLABEL from QSEGMENTEXP_SMOOTH_CLEANED where  not PLPLABEL = MANUALNAME  and PLPLABEL = 'a' and PLPLABEL = MFCCLABEL 

select MANUALNAME, count(id) from QSEGMENTEXP_CLEANED where  not PLPLABEL = MANUALNAME and PLPLABEL = MFCCLABEL GROUP By MANUALNAME  having COUNT(id)>2 ORDER by COUNT(id) desc

















ALTER TABLE QSEGMENTEXP_NOISE ADD noiseType varchar(255);
ALTER TABLE QSEGMENTEXP_NOISE ADD noiseLevel varchar(255);

ALTER TABLE QSEGMENTEXP_NOISE DROP "noiseLevel";
ALTER TABLE QSEGMENTEXP_NOISE DROP noiseType;

select * from QSEGMENTEXP_NOISE WHERE WAVFILEPATH like '%_station_%'

UPDATE QSEGMENTEXP_NOISE SET NOISELEVEL = '0' WHERE WAVFILEPATH like '%_sn0.%'
UPDATE QSEGMENTEXP_NOISE SET NOISELEVEL = '5' WHERE WAVFILEPATH like '%_sn5.%'
UPDATE QSEGMENTEXP_NOISE SET NOISELEVEL = '10' WHERE WAVFILEPATH like '%_sn10.%'
UPDATE QSEGMENTEXP_NOISE SET NOISELEVEL = '15' WHERE WAVFILEPATH like '%_sn15.%'

UPDATE QSEGMENTEXP_NOISE SET NOISETYPE = 'airport' WHERE WAVFILEPATH like '%_airport_%'
UPDATE QSEGMENTEXP_NOISE SET NOISETYPE = 'babble' WHERE WAVFILEPATH like '%_babble_%'
UPDATE QSEGMENTEXP_NOISE SET NOISETYPE = 'car' WHERE WAVFILEPATH like '%_car_%'
UPDATE QSEGMENTEXP_NOISE SET NOISETYPE = 'exhibition' WHERE WAVFILEPATH like '%_exhibition_%'
UPDATE QSEGMENTEXP_NOISE SET NOISETYPE = 'restaurant' WHERE WAVFILEPATH like '%_restaurant_%'
UPDATE QSEGMENTEXP_NOISE SET NOISETYPE = 'station' WHERE WAVFILEPATH like '%_station_%'
UPDATE QSEGMENTEXP_NOISE SET NOISETYPE = 'street' WHERE WAVFILEPATH like '%_street_%'
UPDATE QSEGMENTEXP_NOISE SET NOISETYPE = 'train' WHERE WAVFILEPATH like '%_train_%'


